(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6e1b3ce1"],{"00ee":function(t,e,a){var i={};i[a("b622")("toStringTag")]="z",t.exports="[object z]"===String(i)},"02ab":function(t,e,a){},"0d26":function(t,e,a){a=a("e330");var i=Error,o=a("".replace),r=(a=String(i("zxcasd").stack),/\n\s*at [^:]*:[^\n]*/),l=r.test(a);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,r,"");return t}},"15c8":function(t,e,a){"use strict";a("d7c2")},"249f":function(t,e,a){"use strict";a("02ab")},2553:function(t,e,a){"use strict";a("4c5f")},"2ba4":function(t,e,a){a=a("40d5");var i=Function.prototype,o=i.apply,r=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(a?r.bind(o):function(){return r.apply(o,arguments)})},"3bbe":function(t,e,a){var i=a("1626"),o=String,r=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw r("Can't set "+o(t)+" as a prototype")}},"4c5f":function(t,e,a){},"4f2c":function(t,e,a){},"56a6":function(t,e,a){},"577e":function(t,e,a){var i=a("f5df"),o=String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},"5c71":function(t,e,a){},"63a4":function(t,e,a){},7156:function(t,e,a){var i=a("1626"),o=a("861d"),r=a("d2bb");t.exports=function(t,e,a){return r&&i(e=e.constructor)&&e!==a&&o(e=e.prototype)&&e!==a.prototype&&r(t,e),t}},"7f8c":function(t,e,a){"use strict";a("fd17")},"86e9":function(t,e,a){"use strict";a("e30a")},9595:function(t,e,a){"use strict";a("56a6")},"9e52":function(t,e,a){},a78a:function(t,e,a){"use strict";a("5c71")},ab34:function(t,e,a){"use strict";a("4f2c")},ab36:function(t,e,a){var i=a("861d"),o=a("9112");t.exports=function(t,e){i(e)&&"cause"in e&&o(t,"cause",e.cause)}},aeb0:function(t,e,a){var i=a("9bf2").f;t.exports=function(t,e,a){a in t||i(t,a,{configurable:!0,get:function(){return e[a]},set:function(t){e[a]=t}})}},b15d:function(t,e,a){"use strict";a("9e52")},b980:function(t,e,a){var i=a("d039"),o=a("5c6c");t.exports=!i((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},d1fb:function(t,e,a){"use strict";a("63a4")},d2bb:function(t,e,a){var i=a("e330"),o=a("825a"),r=a("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,a={};try{(t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(a,[]),e=a instanceof Array}catch(a){}return function(a,i){return o(a),r(i),e?t(a,i):a.__proto__=i,a}}():void 0)},d7c2:function(t,e,a){},d9e2:function(t,e,a){function i(t,e){var a={};a[t]=n(t,e,m),r({global:!0,constructor:!0,arity:1,forced:m},a)}function o(t,e){var a;d&&d[t]&&((a={})[t]=n(c+"."+t,e,m),r({target:c,stat:!0,constructor:!0,arity:1,forced:m},a))}var r=a("23e7"),l=a("da84"),s=a("2ba4"),n=a("e5cb"),c="WebAssembly",d=l[c],m=7!==Error("e",{cause:7}).cause;i("Error",(function(t){return function(e){return s(t,this,arguments)}})),i("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),i("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),i("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),i("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),i("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),i("URIError",(function(t){return function(e){return s(t,this,arguments)}})),o("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),o("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),o("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},e30a:function(t,e,a){},e391:function(t,e,a){var i=a("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},e5cb:function(t,e,a){"use strict";var i=a("d066"),o=a("1a2d"),r=a("9112"),l=a("3a9b"),s=a("d2bb"),n=a("e893"),c=a("aeb0"),d=a("7156"),m=a("e391"),u=a("ab36"),h=a("0d26"),p=a("b980"),f=a("83ab"),D=a("c430");t.exports=function(t,e,a,b){var y="stackTraceLimit",g=b?2:1,v=(t=t.split("."),t[t.length-1]),w=i.apply(null,t);if(w){var F=w.prototype;if(!D&&o(F,"cause")&&delete F.cause,!a)return w;t=i("Error");var N=e((function(t,e){return e=m(b?e:t,void 0),t=b?new w(t):new w,void 0!==e&&r(t,"message",e),p&&r(t,"stack",h(t.stack,2)),this&&l(F,this)&&d(t,this,N),g<arguments.length&&u(t,arguments[g]),t}));if(N.prototype=F,"Error"!==v?s?s(N,t):n(N,t,{name:!0}):f&&y in w&&(c(N,w,y),c(N,w,"prepareStackTrace")),n(N,w),!D)try{F.name!==v&&r(F,"name",v),F.constructor=N}catch(t){}return N}}},e6f4:function(t,e,a){"use strict";a.r(e);var i=a("90fe"),o={name:"Control-Text",props:{itemData:{type:Object,default:()=>({labelWidth:"100px",rightWidth:"160px"})}},components:{},data(){return{isDisable:!1,controlForm:{value:""},rules:{value:[{required:!0,message:"请输入"+(this.itemData.placeholder||this.itemData.fieldLabel),trigger:"blur"}]}}},computed:{propName(){let t="";return 1===this.itemData.isNotNull?"value":t}},watch:{itemData:{handler(t){this.isDisable=t.readonly},deep:!0,immediate:!0}},created(){},mounted(){},methods:{clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){this.clearVerify(),Object(i.k)(t)&&(this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName])},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},handleChange(t){this.itemData.controlData=t},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t}},updated(){},beforeDestroy(){}},r=(a("a78a"),a("2877")),l=(o=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-input",{staticClass:"control",style:{width:t.itemData.rightWidth},attrs:{type:t.itemData.controlType||"text",placeholder:t.itemData.placeholder||t.itemData.fieldLabel,clearable:"",readonly:t.isDisable,disabled:t.isDisable},on:{change:t.handleChange},model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}})],1)],1)}),[],!1,null,"2fcb534a",null).exports,{name:"Control-DayPick",props:{itemData:{type:Object,default:()=>{}}},components:{},data(){return{isDisable:!1,controlForm:{value:""},rules:{value:[{required:!0,message:"请选择"+(this.itemData.placeholder||this.itemData.fieldLabel),trigger:"blur"}]}}},computed:{propName(){let t="";return 1===this.itemData.isNotNull?"value":t},pickerOptions(){return{disabledDate(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick(t){t.$emit("pick",new Date)}},{text:"昨天",onClick(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},watch:{itemData:{handler(t){this.isDisable=t.readonly},deep:!0,immediate:!0}},created(){},mounted(){},methods:{clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){this.clearVerify(),Object(i.k)(t)&&(this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName])},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},handleChange(t){this.itemData.controlData=t,this.$emit("update:controlData",t||"")},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t}},updated(){},beforeDestroy(){}}),s=(l=(a("b15d"),Object(r.a)(l,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-date-picker",{style:{width:t.itemData.rightWidth},attrs:{format:t.itemData.format||"yyyy-MM-dd","value-format":t.itemData.format||"yyyyMMdd",align:"right",type:"date",placeholder:"选择日期","picker-options":t.itemData.noShowPickOption?{}:t.pickerOptions,readonly:t.isDisable,clearable:!t.itemData.required},on:{change:t.handleChange},model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}})],1)],1)}),[],!1,null,"21f99c56",null).exports),{name:"Control-InputNumber",props:{itemData:{type:Object,default:()=>({labelWidth:"100px",rightWidth:"160px"})}},components:{},data(){return{isDisable:!1,controlForm:{value:""},rules:{value:[{required:!0,message:"请输入"+(this.itemData.placeholder||this.itemData.fieldLabel),trigger:"blur"}]}}},computed:{propName(){let t="";return 1===this.itemData.isNotNull?"value":t}},watch:{itemData:{handler(t){this.isDisable=t.readonly},deep:!0,immediate:!0}},created(){},mounted(){},methods:{clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){this.clearVerify(),Object(i.k)(t)&&(this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName])},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},handleChange(t){this.itemData.controlData=t},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t}},updated(){},beforeDestroy(){}}),n=(s=(a("86e9"),Object(r.a)(s,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-input",{staticClass:"control",style:{width:t.itemData.rightWidth},attrs:{placeholder:t.itemData.placeholder||t.itemData.fieldLabel,clearable:"",readonly:t.isDisable,disabled:t.isDisable},on:{change:t.handleChange},model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}})],1)],1)}),[],!1,null,"46955e46",null).exports),a("b1d0"));function c(t,e={}){return n.a.post({url:"/pcApi/file/upload",mockUrl:""},t,e)}function d(t){return n.a.get({url:"getListAPI",mockUrl:"./mock/getListAPI.json"},t)}a("d9e2");const m={number(t,e,a){var i=/^\d+$/;e&&i.test(e)||!e||i.test(e)?a():a(new Error("数字类型错误"))},age(t,e,a){var i=/^\d+$/;e&&i.test(e)?parseInt(e)<200?a():a(new Error("年龄不合法")):e&&!i.test(e)?a(new Error("数字类型错误")):a()},postcode(t,e,a){var i=/^[1-9]\d{5}(?!\d)$/;e&&i.test(e)||!e||i.test(e)?a():a(new Error("邮编格式不正确"))},ip(t,e,a){var i=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e&&i.test(e)||!e||i.test(e)?a():a(new Error("ip地址格式不正确"))},telephone(t,e,a){var i=/(^\d{3}-\d{7,8}$)|(^\d{4}-\d{7,8}$)|(^\d{3}\d{7,8}$)|(^\d{4}\d{7,8}$)|(^\d{7,8}$)/;e&&i.test(e)||!e||i.test(e)?a():a(new Error("固定电话和小灵通电话格式不正确"))},phone(t,e,a){var i=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;e&&i.test(e)||!e||i.test(e)?a():a(new Error("手机号格式不正确"))},IDCard(t,e,a){var i=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;e&&i.test(e)||!e||i.test(e)?a():a(new Error("身份证格式不正确"))}};var u={name:"Control-InputPhone",props:{itemData:{type:Object,default:()=>({})}},components:{},data(){return{isDisable:!1,controlForm:{value:""},rules:{value:[{required:!0,validator:m.checkPhone,trigger:"blur"}]},isSend:!1,isClickSend:!1,countDown:60,timer:null}},computed:{propName(){let t="";return 1===this.itemData.isNotNull?"value":t},codeText(){return this.isSend?this.countDown+"s后重新获取":"获取手机号验证码"}},watch:{itemData:{handler(t){this.isDisable=t.readonly},deep:!0,immediate:!0}},created(){},mounted(){},methods:{clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){this.clearVerify(),this.resume(),Object(i.k)(t)&&(this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName])},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},handleChange(t){this.itemData.controlData=t},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t},async getPhoneCode(){var t;if(this.verifyForm())try{t={phoneNum:this.controlForm.value};var e,a=await n.a.get({url:"getListAPI",mockUrl:"./mock/getListAPI.json"},t);"OK"===a.status?(this.$message.success("短信验证码已发送"),({journalNo:e=""}=a.signedValue||{}),this.timerCount(),this.isSend=!0,this.$emit("handleRelatedFields",{journalNo:e},this.itemData.relatedFields),this.itemData.carryData={journalNo:e}):this.$message.error(a.message)}catch(t){}},timerCount(){this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.countDown--,this.countDown<=0&&(this.isSend=!1,clearInterval(this.timer),this.countDown=60)},1e3)},resume(){this.timer&&clearInterval(this.timer),this.isSend=!1,this.countDown=60}},updated(){},beforeDestroy(){this.resume()}},h=(u=(a("9595"),Object(r.a)(u,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-input",{staticClass:"control",style:{width:t.itemData.rightWidth},attrs:{placeholder:t.itemData.placeholder||t.itemData.fieldLabel,clearable:"",readonly:t.isDisable,disabled:t.isDisable},on:{change:t.handleChange},model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}}),e("el-button",{staticClass:"code_btn",attrs:{plain:"",loading:t.isClickSend,disabled:t.isSend},on:{click:t.getPhoneCode}},[t._v(t._s(t.codeText))])],1)],1)}),[],!1,null,"fc656cca",null).exports),a("c1df")),p=a.n(h),f=(h={name:"Control-RangeDate",props:{itemData:{type:Object,default:()=>{}}},components:{},data(){return{isDisable:!1,controlForm:{value:""},rules:{value:[{required:!0,message:"请选择"+(this.itemData.placeholder||this.itemData.fieldLabel),trigger:"blur"}]},pickTime:null}},computed:{propName(){let t="";return 1===this.itemData.isNotNull?"value":t},pickerOptions(){let t=this;return{disabledDate(e){var a,i;return t.pickTime?(i=p()(p()(t.pickTime).format("YYYY-MM-DD")).valueOf(),a=new Date(i-31536e6),i=new Date(i+31536e6),e.getTime()>Date.now()||e.getTime()<a||e.getTime()>i):e.getTime()>Date.now()},onPick({maxDate:e,minDate:a}){e||(t.pickTime=a)},shortcuts:[{text:"今天",onClick(t){var e=new Date,a=new Date(new Date((new Date).setHours(0,0,0,0)));t.$emit("pick",[a,e])}},{text:"昨天",onClick(t){var e=new Date,a=new Date(new Date((new Date).setHours(0,0,0,0))-864e5);e.setTime(a.getTime()+86399999),t.$emit("pick",[a,e])}},{text:"本周",onClick(t){var e=new Date,a=(new Date,Object(i.g)(new Date));(e=Object(i.f)(new Date)).setTime(e.getTime()+86399999),t.$emit("pick",[a,e])}},{text:"最近一周",onClick(t){var e=new Date,a=new Date;a.setTime(a.getTime()+6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick(t){var e=new Date,a=new Date;a.setTime(a.getTime()+2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick(t){var e=new Date,a=new Date;a.setTime(a.getTime()+7776e6),t.$emit("pick",[a,e])}}]}}},watch:{itemData:{handler(t){this.isDisable=t.readonly},deep:!0,immediate:!0}},created(){},mounted(){},methods:{clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){this.clearVerify(),Object(i.k)(t)&&(this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName])},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},handleChange(t){this.itemData.controlData=t,this.$emit("update:controlData",t||"")},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t}},updated(){},beforeDestroy(){}},h=(a("d1fb"),Object(r.a)(h,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-date-picker",{style:{width:t.itemData.rightWidth},attrs:{format:t.itemData.format||"yyyy-MM-dd","value-format":t.itemData.format||"yyyyMMdd",align:"right",type:"daterange","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.itemData.noShowPickOption?{}:t.pickerOptions,readonly:t.isDisable,editable:t.itemData.editable,clearable:!t.itemData.required},on:{change:t.handleChange},model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}})],1)],1)}),[],!1,null,"4df648a7",null).exports),{name:"Control-RangeMonth",props:{itemData:{type:Object,default:()=>{}}},components:{},data(){return{isDisable:!1,controlForm:{value:""},rules:{value:[{required:!0,message:"请选择"+(this.itemData.placeholder||this.itemData.fieldLabel),trigger:"blur"}]},pickTime:null}},computed:{propName(){let t="";return 1===this.itemData.isNotNull?"value":t}},watch:{itemData:{handler(t){this.isDisable=t.readonly},deep:!0,immediate:!0}},created(){},mounted(){},methods:{clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){this.clearVerify(),Object(i.k)(t)&&(this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName])},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue},handleChange(t){this.itemData.controlData=t,this.$emit("update:controlData",t||"")},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t}},updated(){},beforeDestroy(){}}),D=(f=(a("15c8"),Object(r.a)(f,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-date-picker",{style:{width:t.itemData.rightWidth},attrs:{format:t.itemData.format||"yyyy-MM","value-format":t.itemData.format||"yyyyMM",align:"right",type:"monthrange","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份",readonly:t.isDisable,editable:t.itemData.editable,clearable:!t.itemData.required},on:{change:t.handleChange},model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}})],1)],1)}),[],!1,null,"497fe508",null).exports),a("2f62")),b={name:"Control-SelectDownBox",props:{itemData:{type:Object,default:()=>({labelWidth:"100px",rightWidth:"160px"})}},components:{},data(){return{apis:{fetchHrmJob:d},options:Object.freeze([]),tempItemData:this.itemData,controlForm:{value:""},rules:{value:[{required:!0,message:"请选择"+(this.itemData.placeholder||this.itemData.fieldLabel),trigger:"blur"}]},listItemQuery:{page:1,size:20,condition:{lookupCode:"",lookupItemName:""}}}},computed:{...Object(D.b)(["dictInfo"]),propName(){let t="";return 1===this.itemData.isNotNull?"value":t},isDisable(){let t=!1;return!!this.tempItemData.readonly||t}},watch:{dictInfo(){this.itemData.localVuexDictData&&this.getVuexDictData()}},created(){},mounted(){this.itemData.remoteDictOptionsData?this.fetchRemoteDictData():this.itemData.remoteOtherApi?this.getApiData():this.itemData.localVuexDictData&&this.getVuexDictData()},methods:{getVuexDictData(){let t=[];Object(i.k)(this.dictInfo)&&this.dictInfo[this.itemData.dictKey]&&(t=this.dictInfo[this.itemData.dictKey]),this.options=[...t]},async getApiData(){try{var t,e=await this.apis[this.itemData.remoteOtherApi]();"OK"===e.status?(t=e.data||[],Array.isArray(t)&&(this.options=t.map(t=>({dictCode:t.jobCode,dictName:t.jobName,extra:null,inUse:"1"})))):this.$message.error(e.message||"")}catch(t){}},async fetchRemoteDictData(){try{this.listItemQuery.condition.lookupCode=this.itemData.dictKey;var t=await c(this.listItemQuery);if("OK"===t.status){const e=t.data||[];Array.isArray(e)&&(e=e.sortListObjByKey("sortNum"),this.options=e.map(t=>({dictCode:t.lookupItemCode,dictName:t.lookupItemName,extra:null,inUse:"1"})))}else this.$message.error(t.message||"")}catch(t){}},clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){if(this.clearVerify(),Object(i.k)(t)){let e=t[this.itemData.fieldName];Object(i.l)(e)&&this.itemData.multiple&&(e=e.split(",")),this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName]}},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue,this.itemData.defaultOptions&&(this.options=this.itemData.defaultOptions)},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue,this.itemData.defaultOptions&&(this.options=this.itemData.defaultOptions)},handleChange(t){let e=t;Object(i.h)(t)&&(e=t.join(",")),"isNeedCheck"===this.itemData.fieldName&&this.itemData.relatedFields&&""!==this.itemData.relatedFields&&(t={platformCheckStatus:"0"===e},this.$emit("handleRelatedFields",t,this.itemData.relatedFields)),this.itemData.controlData=e,this.$emit("update:controlData",e)},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t}},updated(){},beforeDestroy(){}},y=(b=(a("fc16"),Object(r.a)(b,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",staticClass:"selectDownBox",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-select",{staticClass:"control",style:{width:t.itemData.rightWidth},attrs:{"value-key":"dictCode",placeholder:t.itemData.placeholder||t.itemData.fieldLabel,disabled:t.isDisable,multiple:t.itemData.multiple,filterable:"",clearable:""},on:{change:t.handleChange},model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}},[t.itemData.noShowAll||t.itemData.defaultOptions?t._e():e("el-option",{attrs:{label:"全部",value:""}},[t._v("全部")]),t._l(t.options,(function(a,i){return e("el-option",{key:i+"_"+a.dictCode,attrs:{label:a.dictName+(t.itemData.keyCode?`(${t.itemData.dictCode})`:""),title:a.dictName+(t.itemData.keyCode?`(${t.itemData.dictCode})`:""),value:a.dictCode}})}))],2)],1)],1)}),[],!1,null,"1c7e59ee",null).exports),{name:"Control-SelectCascader",props:{itemData:{type:Object,default:()=>({})}},components:{},data(){return{apis:{fetchHrmJob:d},options:Object.freeze([]),tempItemData:this.itemData,controlForm:{value:""},rules:{value:[{required:!0,message:"请选择"+(this.itemData.placeholder||this.itemData.fieldLabel),trigger:"blur"}]},listItemQuery:{page:1,size:20,condition:{lookupCode:"",lookupItemName:""}}}},computed:{...Object(D.b)(["dictInfo"]),propName(){let t="";return 1===this.itemData.isNotNull?"value":t},isDisable(){let t=!1;return!!this.tempItemData.readonly||t}},watch:{dictInfo(){this.itemData.localVuexDictData&&this.getVuexDictData()}},created(){},mounted(){this.itemData.remoteDictOptionsData?this.fetchRemoteDictData():this.itemData.remoteOtherApi?this.getApiData():this.itemData.localVuexDictData&&this.getVuexDictData()},methods:{optNode(t){t.children&&0===t.children.length&&(t.hasChildren=!1)},getVuexDictData(){let t=[];Object(i.k)(this.dictInfo)&&this.dictInfo[this.itemData.dictKey]&&(t=this.dictInfo[this.itemData.dictKey]),this.options=[...t]},async getApiData(){try{var t,e=await this.apis[this.itemData.remoteOtherApi]();"OK"===e.status?(t=e.data||[],Array.isArray(t)&&(this.options=[...t])):this.$message.error(e.message||"")}catch(t){}},async fetchRemoteDictData(){try{this.listItemQuery.condition.lookupCode=this.itemData.dictKey;var t=await c(this.listItemQuery);if("OK"===t.status){const e=t.data||[];Array.isArray(e)&&(e=e.sortListObjByKey("sortNum"),this.options=e.map(t=>({dictCode:t.lookupItemCode,dictName:t.lookupItemName,extra:null,inUse:"1"})))}else this.$message.error(t.message||"")}catch(t){}},clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){if(this.clearVerify(),Object(i.k)(t)){let e=t[this.itemData.fieldName];Object(i.l)(e)&&this.itemData.multiple&&(e=e.split(",")),this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName]}},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue,this.itemData.defaultOptions&&(this.options=this.itemData.defaultOptions)},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue,this.itemData.defaultOptions&&(this.options=this.itemData.defaultOptions)},handleChange(t){let e=t;Object(i.h)(t)&&(e=t.join(",")),this.itemData.controlData=e,this.$emit("update:controlData",e)},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t}},updated(){},beforeDestroy(){}}),g=(y=(a("249f"),Object(r.a)(y,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",staticClass:"selectDownBox",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-cascader",{ref:"cascader",staticClass:"control",style:{width:t.itemData.rightWidth},attrs:{placeholder:t.itemData.placeholder||t.itemData.fieldLabel,disabled:t.isDisable,props:{checkStrictly:!0,value:"id",label:"name",emitPath:!1,multiple:t.itemData.multiple},options:t.options,filterable:"",clearable:"",debounce:300},on:{change:t.handleChange},scopedSlots:t._u([{key:"default",fn:function({node:a,data:i}){return[e("span",[t._v(t._s(i.name))]),a.isLeaf?t._e():e("span",[t._v("("+t._s(i.children.length)+t._s(t.optNode(a))+")")])]}}]),model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}})],1)],1)}),[],!1,null,"38585dec",null).exports),D={name:"Control-RadioGroup",props:{itemData:{type:Object,default:()=>({})}},components:{},data(){return{options:Object.freeze([]),tempItemData:this.itemData,controlForm:{value:""},rules:{value:[{required:!0,message:"请输入"+(this.itemData.placeholder||this.itemData.fieldLabel),trigger:"blur"}]},listItemQuery:{page:1,size:20,condition:{lookupCode:"",lookupItemName:""}}}},computed:{...Object(D.b)(["dictInfo"]),propName(){let t="";return 1===this.itemData.isNotNull?"value":t},isDisable(){let t=!1;return!!this.tempItemData.readonly||t}},watch:{dictInfo(){this.itemData.localVuexDictData&&this.getVuexDictData()}},created(){},mounted(){this.itemData.remoteDictOptionsData?this.fetchRemoteDictData():this.itemData.remoteOtherApi?this.getApiData():this.itemData.localVuexDictData&&this.getVuexDictData()},methods:{getVuexDictData(){let t=[];Object(i.k)(this.dictInfo)&&this.dictInfo[this.itemData.dictKey]&&(t=this.dictInfo[this.itemData.dictKey]),this.options=[...t]},async getApiData(){try{var t,e=await this.apis[this.itemData.remoteOtherApi]();"OK"===e.status?(t=e.data||[],Array.isArray(t)&&(this.options=[...t])):this.$message.error(e.message||"")}catch(t){}},async fetchRemoteDictData(){try{this.listItemQuery.condition.lookupCode=this.itemData.dictKey;var t=await c(this.listItemQuery);if("OK"===t.status){const e=t.data||[];Array.isArray(e)&&(e=e.sortListObjByKey("sortNum"),this.options=e.map(t=>({dictCode:t.lookupItemCode,dictName:t.lookupItemName,extra:null,inUse:"1"})))}else this.$message.error(t.message||"")}catch(t){}},clearVerify(){this.$refs.form.clearValidate()},initVal(t={}){this.clearVerify(),Object(i.k)(t)&&(this.controlForm.value=t[this.itemData.fieldName],this.itemData.controlData=t[this.itemData.fieldName])},updata(){this.clearVerify(),this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue,this.itemData.defaultOptions&&(this.options=this.itemData.defaultOptions)},reset(){this.controlForm.value=this.itemData.defaultValue,this.itemData.controlData=this.itemData.defaultValue,this.itemData.defaultOptions&&(this.options=this.itemData.defaultOptions)},handleChange(t){this.$emit("update:controlData",t),this.itemData.controlData=t,this.$emit("handleFieldShow",[this.itemData.fieldName]+"="+t)},verifyForm(){let t=!0;return this.$refs.form.validate(e=>{e||(t=!1)}),t}},updated(){},beforeDestroy(){}},D=(a("7f8c"),Object(r.a)(D,(function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",staticClass:"selectDownBox",attrs:{rules:t.rules,model:t.controlForm,"label-width":t.itemData.labelWidth,"label-position":t.itemData.labelPosition}},[e("el-form-item",{attrs:{label:t.itemData.showLabel?t.itemData.fieldLabel:"",prop:t.propName}},[e("el-radio-group",{on:{change:t.handleChange},model:{value:t.controlForm.value,callback:function(e){t.$set(t.controlForm,"value",e)},expression:"controlForm.value"}},t._l(t.options,(function(a){return e("el-radio",{key:a.dictCode,staticClass:"radio_item",attrs:{label:a.dictCode}},[t._v(" "+t._s(`${a.dictName}（${a.dictNameDesc}）`)+" ")])})),1)],1)],1)}),[],!1,null,"22a61984",null).exports),o={name:"query-control",props:{controlGroup:{type:Array,default:()=>[{showLabel:!0,fieldLabel:"接口名称",filedName:"rangeDate",controlName:"SelectDownBox",controlData:"",carryData:null,defaultValue:"",defaultOptions:"",localVuexDictData:!0,dictKey:"OperateTypeEnum",remoteDictOptionsData:!1,remoteOtherApi:"",labelWidth:"100px",rightWidth:"220px",labelPosition:"right",isNotNull:0,placeholder:"",format:"yyyy-MM-dd",valueFormat:"yyyy-MM-dd",keyCode:"dictCode",controlSize:"100%",column:"1",readonly:!1,relatedFields:"platformCheckStatus=platformCheckStatus;optType=optType",clearable:!1,editable:!1,multiple:!0,noShow:!0,controlType:"textarea",noShowAll:!1}]},dontAddPadding:{type:Boolean,default:!1},optType:{type:String,default:""}},components:{"control-Text":o,"control-DayPick":l,"control-InputNumber":s,"control-InputPhone":u,"control-RangeDate":h,"control-RangeMonth":f,"control-SelectDownBox":b,"control-SelectCascader":y,"control-SelectCascader":D},data(){return{dataItem:{},paramsObj:{},onControlGroup:this.controlGroup}},computed:{isAddPadding(){let t=!1;return this.flexControlGroup.length%(this.flexControlGroup[0].column||3)==0||t},flexControlGroup(){return this.onControlGroup}},watch:{},created(){},mounted(){this.initData()},methods:{initData(t={}){this.dataItem={...t},this.flexControlGroup.forEach(e=>{this.$refs.control&&this.$refs.control.forEach(a=>{e.filedName===a.$attrs.nameId&&(Object.prototype.hasOwnProperty.call(t,a.$attrs.nameId)?a.initVal&&a.initVal(t):a.updata&&a.updata())})})},reset(){this.$refs.control.forEach(t=>{t.reset()})},submit(){let t=!0;return this.$refs.control&&this.$refs.control.forEach(e=>{e.verifyForm()||(t=!1)}),t&&(this.paramsObj={},this.flexControlGroup.forEach(t=>{t.noShow||("rangeDate"===t.fieldName?(this.paramsObj.startTime=t.controlData[0]||"",this.paramsObj.endTime=t.controlData[1]||""):Array.isArray(t.controlData)?this.paramsObj[t.fieldName]=t.controlData.join(","):this.paramsObj[t.fieldName]=t.controlData,t.carryData&&(this.paramsObj={...this.paramsObj,...t.carryData}))}),this.paramsObj)},handleRelatedFields(t,e){e.split(";").forEach(e=>{if(""!=e){const a=e.split("=");a[0]&&a[1]&&this.$refs.control&&this.$refs.control.forEach(e=>{e.$attrs.nameId===a[0]&&("platformCheckStatus"===a[0]?(e.itemData.readonly=t[a[1]],t[a[0]]&&e.initVal&&e.initVal({[e.$attrs.nameId]:""})):e.initVal({[e.$attrs.nameId]:t[a[1]]}))})}})},handleFieldsShow(t=0){}},updated(){},beforeDestroy(){}},l=(a("ab34"),Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"query_control",class:{"query_control-padding":!t.dontAddPadding&&t.isAddPadding}},[t._l(t.onControlGroup,(function(a,i){return[e("div",{directives:[{name:"show",rawName:"v-show",value:!a.noShow,expression:"!item.noShow"}],key:i,staticClass:"com-item",style:{width:a.column?1/a.column*100+"%":""}},[e("control-"+a.controlName,{ref:"control",refInFor:!0,tag:"component",attrs:{fieldLabel:a.fieldLabel,itemData:a,nameId:a.filedName,controlData:a.controlData},on:{"update:controlData":function(e){return t.$set(a,"controlData",e)},"update:control-data":function(e){return t.$set(a,"controlData",e)},handleRelatedFields:t.handleRelatedFields,handleFieldsShow:t.handleFieldsShow}})],1)]}))],2)}),[],!1,null,"0f9d720a",null).exports),s={name:"FormDialog",props:{dialogFormFields:{type:Array,default:()=>[]},fieldShow:{type:Boolean,default:!0},submitApi:{type:Function,default(){}},widthClassName:{type:String,default:"width520"}},components:{QueryControl:l},data(){return{formFields:this.dialogFormFields,dialogTitle:"",dialogVisible:!1,dataItem:{},loading:!1,optType:""}},computed:{},watch:{},created(){},mounted(){},methods:{open(t){const{opt:e="",data:a={},readonlyFields:i=[]}=t;this.optType=e,this.dataItem={...a},this.dialogTitle="add"===e?"新增":"修改","add"===e?this.formFields.forEach(t=>{t.controlData="",t.noShow=!this.fieldShow,i.includes(t.fieldName)?t.readonly=!0:t.readonly=!1,"checkId"===t.fieldName&&(t.noShow=!1)}):this.formFields.forEach(t=>{i.includes(t.fieldName)?t.readonly=!0:t.readonly=!1}),this.formFields=Object.assign([],this.formFields),this.dialogVisible=!0,this.loading=!0,this.$nextTick(()=>{this.$refs.queryControl&&this.$refs.queryControl.initData({...this.dataItem})}),setTimeout(()=>{this.loading=!1},500)},submitForm(){let t={};(t=this.$refs.queryControl?this.$refs.queryControl.submit():t)&&this.execSubmit(t)},async execSubmit(t={}){try{this.loading=!0;var e={...t},a=("add"!==this.optType&&this.dataItem.id&&(e.id=this.dataItem.id),await this.submitApi({...e}));"OK"===a.status?(this.$message.success("提交成功"),this.dialogVisible=!1,this.$emit("updateData")):this.$message.error(a.message),this.loading=!1}catch(t){this.loading=!1}}},updated(){},beforeDestroy(){}},u=Object(r.a)(s,(function(){var t=this,e=t._self._c;return e("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.dialogTitle,visible:t.dialogVisible,"custom-class":t.widthClassName,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("query-control",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"queryControl",attrs:{controlGroup:t.formFields,dontAddPadding:"",optType:t.optType}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{loading:t.loading},on:{click:function(e){t.dialogVisible=!1,t.loading=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.submitForm}},[t._v("确 定")])],1)],1)}),[],!1,null,"0bb8be1a",null).exports,[{showLabel:!0,fieldLabel:"商品名称",filedName:"goodsName",controlName:"Text",controlData:"",defaultValue:"",defaultOptions:"",labelWidth:"100px",rightWidth:"350px",labelPosition:"right",isNotNull:1,placeholder:"",column:"1",readonly:!1,clearable:!1,noShow:!1},{showLabel:!0,fieldLabel:"尺码",filedName:"size",controlName:"SelectDownBox",controlData:"",defaultValue:"",defaultOptions:[{dictCode:"M",dictName:"M"},{dictCode:"L",dictName:"L"},{dictCode:"XL",dictName:"XL"},{dictCode:"XXL",dictName:"XXL"}],labelWidth:"100px",rightWidth:"350px",labelPosition:"right",isNotNull:1,placeholder:"",column:"1",readonly:!1,clearable:!1,noShow:!1},{showLabel:!0,fieldLabel:"上架日期",filedName:"faceCustomerTime",controlName:"DayPick",controlData:"",defaultValue:"",defaultOptions:"",labelWidth:"100px",rightWidth:"350px",labelPosition:"right",isNotNull:1,placeholder:"",column:"1",readonly:!1,clearable:!1,noShow:!1,noShowPickOption:!0}]);h={name:"Goods",props:{},components:{FormDialog:u},data(){return{loading:!1,dialogFormFields:Object.freeze(g),submitApi:d}},computed:{},watch:{},created(){},mounted(){},methods:{newAdd(){this.$refs.popUp&&this.$refs.popUp.open({opt:"add",data:{}})},updateData(){}},updated(){},beforeDestroy(){}},a("2553"),f=Object(r.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods"},[e("el-button",{attrs:{type:"primary"},on:{click:t.newAdd}},[t._v("新增商品")]),e("form-dialog",{ref:"popUp",attrs:{dialogFormFields:t.dialogFormFields,fieldShow:!0,submitApi:t.submitApi},on:{updateData:t.updateData}})],1)}),[],!1,null,"b3a67b2e",null);e.default=f.exports},e723:function(t,e,a){},f5df:function(t,e,a){var i=a("00ee"),o=a("1626"),r=a("c6b6"),l=a("b622")("toStringTag"),s=Object,n="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=s(t),l))?e:n?r(t):"Object"==(e=r(t))&&o(t.callee)?"Arguments":e}},fc16:function(t,e,a){"use strict";a("e723")},fd17:function(t,e,a){}}]);